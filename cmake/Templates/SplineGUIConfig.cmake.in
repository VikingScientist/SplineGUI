IF(SplineGUI_INCLUDE_DIRS AND SplineGUI_LIBRARIES)
  SET(SplineGUI_FIND_QUIETLY TRUE)
ENDIF(SplineGUI_INCLUDE_DIRS AND SplineGUI_LIBRARIES)

UNSET(SplineGUI_INCLUDE_DIRS CACHE)
UNSET(SplineGUI_LIBRARIES CACHE)

FIND_PATH(SplineGUI_INCLUDE_DIRS
  NAMES SplineGUI/SplineGUI.h
  PATHS "$ENV{HOME}/include"
  "$ENV{HOME}/install/include"
  /sima/libs/SplineGUI/include
)

FIND_LIBRARY(SplineGUI_LIBRARIES
  NAMES SplineGUI
  PATHS "$ENV{HOME}/lib"
  "$ENV{HOME}/install/lib"
  /sima/libs/SplineGUI/lib
  PATH_SUFFIXES SplineGUI
)

INCLUDE(FindPackageHandleStandardArgs)
find_package_handle_standard_args(SplineGUI DEFAULT_MSG
                                  SplineGUI_INCLUDE_DIRS SplineGUI_LIBRARIES)
IF(SplineGUI_INCLUDE_DIRS)
  # Export version information
  EXECUTE_PROCESS(COMMAND cat "${SplineGUI_INCLUDE_DIRS}/SplineGUI/SplineGUI_version.h" OUTPUT_VARIABLE SplineGUI_HEADER)
  STRING(REGEX MATCH "SplineGUI_VERSION_MAJOR ([0-9]+)" SplineGUI_VERSION_MAJOR ${SplineGUI_HEADER})
  STRING(REGEX REPLACE "SplineGUI_VERSION_MAJOR ([0-9]+)" "\\1" SplineGUI_VERSION_MAJOR "${SplineGUI_VERSION_MAJOR}")
  STRING(REGEX MATCH "SplineGUI_VERSION_MINOR ([0-9]+)" SplineGUI_VERSION_MINOR ${SplineGUI_HEADER})
  STRING(REGEX REPLACE "SplineGUI_VERSION_MINOR ([0-9]+)" "\\1" SplineGUI_VERSION_MINOR "${SplineGUI_VERSION_MINOR}")
  STRING(REGEX MATCH "SplineGUI_VERSION_PATCH ([0-9]+)" SplineGUI_VERSION_PATCH ${SplineGUI_HEADER})
  STRING(REGEX REPLACE "SplineGUI_VERSION_PATCH ([0-9]+)" "\\1" SplineGUI_VERSION_PATCH "${SplineGUI_VERSION_PATCH}")

ENDIF(SplineGUI_INCLUDE_DIRS)
